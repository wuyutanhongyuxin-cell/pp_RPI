# =============================================================================
# RPI Bot 配置文件 (深度优化版)
# =============================================================================
# 复制此文件为 .env 并填入你的配置

# =============================================================================
# 账号配置 (二选一)
# =============================================================================

# 方式1: 单账号配置
PARADEX_L2_PRIVATE_KEY=0x你的L2私钥
PARADEX_L2_ADDRESS=0x你的L2地址

# 方式2: 多账号配置 (格式: 私钥1,地址1;私钥2,地址2;...)
# PARADEX_ACCOUNTS=0x私钥1,0x地址1;0x私钥2,0x地址2;0x私钥3,0x地址3

# =============================================================================
# 交易配置
# =============================================================================

# 交易市场
MARKET=BTC-USD-PERP

# 每笔交易大小 (BTC)
TRADE_SIZE=0.001

# 交易周期间隔 (秒)
TRADE_INTERVAL=3.0

# 环境: prod (主网) 或 testnet (测试网)
PARADEX_ENVIRONMENT=prod

# =============================================================================
# 风控参数 (重要!)
# =============================================================================

# 最大允许价差百分比 - 超过此值跳过交易
# 建议: 0.012 ~ 0.02
MAX_SPREAD_PCT=0.012

# 止盈百分比 - 达到此收益率才主动平仓
# 建议: 0 (不设止盈) 或 0.005 ~ 0.01
MIN_PROFIT_PCT=0

# 止损百分比 - 亏损达到此比例立即平仓 (防止大亏损!)
# 建议: 0.02 ~ 0.05 (动态止损开启时作为备用)
STOP_LOSS_PCT=0.03

# 等待止盈/止损最长时间 (秒) - 超时则强制平仓
# 建议: 5 ~ 10
MAX_WAIT_SECONDS=8

# 检查价格间隔 (秒)
CHECK_INTERVAL=0.5

# =============================================================================
# 波动率过滤 (新增)
# =============================================================================

# 是否启用波动率过滤 - 高波动时跳过交易
VOLATILITY_FILTER=true

# 最大允许波动率百分比 - 超过此值跳过
# 建议: 0.05 ~ 0.1
MAX_VOLATILITY_PCT=0.06

# 波动率检测窗口 (秒)
# 建议: 8 ~ 15
VOLATILITY_WINDOW=8

# =============================================================================
# 订单簿过滤 (新增)
# =============================================================================

# 订单簿不平衡阈值
# >0 要求买压大于卖压才入场
# 建议: 0.0 ~ 0.1
ORDERBOOK_THRESHOLD=0.05

# =============================================================================
# 入场模式 (新增)
# =============================================================================

# 入场模式选择:
#   trend         = 趋势跟随 (连续上涨才入场)
#   mean_reversion = 均值回归 (下跌+买压大时入场)
#   hybrid        = 混合模式 (先尝试趋势，失败则尝试均值回归)
# 建议: hybrid
ENTRY_MODE=hybrid

# 趋势过滤 (只在价格连续上涨时入场)
TREND_FILTER=true

# =============================================================================
# 动态止损 (新增)
# =============================================================================

# 是否启用动态止损 - 基于spread自动计算止损位
DYNAMIC_STOP_LOSS=true

# 止损倍数 - 止损 = spread × 此值
# 建议: 1.5 ~ 2.5
STOP_LOSS_MULTIPLIER=1.5

# =============================================================================
# 其他配置
# =============================================================================

# Client ID 格式 - 可能影响 RPI 触发
# 可选: rpi, timestamp, uuid, empty
# 建议: timestamp
CLIENT_ID_FORMAT=timestamp
