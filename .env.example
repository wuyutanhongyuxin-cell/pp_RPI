# =============================================================================
# RPI Bot v2.2 - 量化信号增强版 (基于数据分析优化)
# =============================================================================
# 复制此文件为 .env 并填入你的配置

# =============================================================================
# 账号配置 (二选一)
# =============================================================================

# 方式1: 单账号配置
PARADEX_L2_PRIVATE_KEY=0x你的L2私钥
PARADEX_L2_ADDRESS=0x你的L2地址

# 方式2: 多账号配置 (格式: 私钥1,地址1;私钥2,地址2;...)
# PARADEX_ACCOUNTS=0x私钥1,0x地址1;0x私钥2,0x地址2;0x私钥3,0x地址3

# 环境: prod (主网) 或 testnet (测试网)
PARADEX_ENVIRONMENT=prod

# =============================================================================
# 交易配置
# =============================================================================
MARKET=BTC-USD-PERP
TRADE_SIZE=0.001
TRADE_INTERVAL=5.0

# =============================================================================
# 核心风控 (v2.2 数据优化)
# =============================================================================
MAX_SPREAD_PCT=0.012
STOP_LOSS_PCT=0.025
RISK_REWARD_RATIO=1.2
MAX_WAIT_SECONDS=20
CHECK_INTERVAL=0.3

# =============================================================================
# 入场策略
# =============================================================================
ENTRY_MODE=trend
TREND_FILTER=false
DIRECTION_SIGNAL_THRESHOLD=0.35
VOLATILITY_FILTER=false
DYNAMIC_STOP_LOSS=false

# =============================================================================
# v2.2 量化信号增强 (新增)
# =============================================================================
# 量化信号融合开关
QUANT_SIGNALS=true

# RSI指标 (超买超卖过滤)
RSI_ENABLED=true
RSI_PERIOD=14
RSI_OVERSOLD=30
RSI_OVERBOUGHT=70

# VWAP (成交量加权均价)
VWAP_ENABLED=true

# 订单流分析
ORDER_FLOW_ENABLED=true

# 最小信号强度 (低于此值不入场)
MIN_SIGNAL_STRENGTH=0.5

# =============================================================================
# v2.2 自适应止损 (新增)
# =============================================================================
ADAPTIVE_STOP_LOSS=true
ADAPTIVE_STOP_BASE=0.02
ADAPTIVE_STOP_VOLATILITY_MULT=1.5

# =============================================================================
# v2.2 连续亏损控制 (新增)
# =============================================================================
MAX_CONSECUTIVE_LOSSES=5

# =============================================================================
# 平仓策略
# =============================================================================
# limit = 限价单平仓 (赚取点差)
# market = 市价单平仓 (支付点差)
EXIT_ORDER_TYPE=limit

# =============================================================================
# 时段过滤 (建议开启)
# =============================================================================
TIME_FILTER=true
OPTIMAL_HOURS_START=8
OPTIMAL_HOURS_END=20
WEEKEND_MULTIPLIER=0.5

# =============================================================================
# Kelly仓位管理 (建议开启)
# =============================================================================
KELLY_ENABLED=true
KELLY_FRACTION=0.20
MAX_POSITION_PCT=0.15

# =============================================================================
# 回撤控制 (建议开启，v2.2更严格)
# =============================================================================
DRAWDOWN_CONTROL=true
MAX_DAILY_LOSS_PCT=0.02
MAX_TOTAL_LOSS_PCT=0.08

# =============================================================================
# 尾随止盈
# =============================================================================
TRAILING_STOP=false
TRAILING_TRIGGER_RR=1.0
TRAILING_DISTANCE_PCT=0.5

# =============================================================================
# 其他配置
# =============================================================================
CLIENT_ID_FORMAT=timestamp
